sudo: required
language: java
jdk: oraclejdk8
script:
- ./gradlew build
- ./gradlew prepareConfig
services:
- docker
env:
    global:
    -   secure: J/ibzMI6E3AHFfPamt6+FpSkqe1xM2F52A2ur5pTp//ZxUyeef0B4bb9fY/1sF70LOjjK4G1V0RYThLmq3Riw59hTq4nTs2GUcfkO9TzBCFtv4omp4S9Mj8SjWn3qrwLRGASdur+ArTVxND4cwNdRUDaLr60KuA9jR2kPe0s+8A6ibNyeBXgmWopyeSUkXcS0/UJD0rZNLSmttLZhUXn0uka93kfIo4ziCdo72VY/RInXX/vWNLCh5DI+KleqzRNFnV5PvcFhFC+LoMl+R1tJyTelY14Bdq71dnaqZGC/a1CLCugv5JFZZZ6eekd/oFh1Zr/3e9Iw6bhXgGkTn2ovjyL+Y9xj85P1jEujmS40E+vgp8gJI3DQHogf2FJPZCVcP2XuiZAHOR9snXZLB1sLuE/jq6OJrnGLsW8BLEOXNzoRJ7wgaSuruX3G8zTAgCSnXaYjPICm8n9ziPc3fxHqhWgxSGhfWZvFoPFl01NUOyBxb/HLSeLxeE7NSDG67PKi6yvwV0sLTN71TzUyxWDk/12uWAWYR2+Gjix4e2W1/JXc9h8RmzSuK/bNasLrwcJ5e5hU0v4ltHQjFzdButmdAc21CS1kcTLQqZajP66sJMbW5lXV7fr1OB7EJZso/QWOJn3Zjkw2qsJcGT2J6gmRJyWhxi4f4vlhv6dmO9hN9Q=
    -   secure: cUQGvN/7y36ykLJjnriok7qY94UvZlnqW0lUL4CeM29aaf/oz2YvXYLMu6msmt0eb1h1xa5SKZcXPRTj7SFPGCvT1fjt7IwNzncdNEQe3UOFnKHJU7BGbDFrZko1Mz8+Ugul4phjGK+CwZAMzwYa5pR8e2xJPXFuIG8Vn8sef73PZLgwpwjmJJETDdxqRRpg5ZjAUMMKAbu9DkjF2iN3HELWc9+jWjjmoucnkbrDSonYZkpxqXDAwrSKASuND00ykD+ZtKEZECgr2yxposmrufC3gPFbix9/hPYLZcBV77Kg8j6hfHd33k/Lc+lyJdKkq9kw9PYJhwrZAoapnCBjzkkbsBmqbr+Fkimp7r4S6WMgBGErak9ZXodsSVXDKZf4EmLB6Ldq6LDQXiEq31n6hoAz3bt5pAJxTKrRvTN6stUfI82y/FyadQYTva0SUD2J07lXs/wA8JjnA0HrvRQRDM339RXza6ss/i3y6KvxsLL8BKYm5hrMuNGxWfH8BaGdav4s8V2urUltN0D3UcioYmScomJuyHnhQ8UWfKefu6HitGNRQr4KorYLRalSbOEXlbi6zXOnahvNSD6pmVCvT+jMyGCHWkqGsw84ImGrJMx/DiYN/D/coWe3PJ16FFZ7dIfDm9lgChubvuGnsIs0o8wO0TtEaGAzvnj0+x7HHIE=
    -   secure: K0xEsx6O1hN79ue5tNUkEqARjdD0vdlRlLQRYT/JUXONJOWG0fnJo1X/7OYl8c7Luc6VGLhzBL2sCp/miO4Y60aFcCs7ecKTNBjth/MV7Rm0658J2aXSLrJfRv6Q4UY8vOjA2oHSqnMTqlfq9oKvIPYUtbzLO8aWS00nx/WQBrPDE0HyeDsdIZEq4kZ4l6EfvvUFJ29ya/OLeJu/uuWLmiEGDYNZvIrGf3KnWvnid7hE1lvk8O4EzECDA8OpgZsXpI5AkWiasA+YnotRp7fhQ2Z4/6xWhWkQVWAmpr3gZlGn2Nw0Lllek8D1rCQMjiCOrct4I7aAMhKQFBT0UBs/Yaa/WDGMdDQDo3gXQUh0Ub94xdJyPdyRnh3Zu/oibJKScQfXzdFO1QF4SvgnWQNsaHTtJY3Y73qBtrlJJUNJ19g4HkU+9B1vWwTbKPATxFlA5ubekCtgTb9ldSdru37qbLI+II2IDF/g3hJmzwfyDPAWfD2y73j8HzA+Qu/C6i8mm+5gxqTrL2wh143/LVx6dNLRobmZdKI87prGIlyT7nAGFwf6pwqIUeWY93EujNOa1ygs08porD7z8502qIIT40y945b2c+ciiflENcGUzi+ovYzHsfFFfaae+rw8cQWPRSDPwE5wUk5PHlpaF7lUBcMcxv6abjTIQ+M1uZ9xNVA=
    -   secure: YZFuFU7U2c3888DnPHjIO/WKUojES37FYfzmbJdco8XSGLv4C/vhWJioS88DwdzTfFlb63nPC6/UISqlVUhxvaOJYz4mcqQZeoJm9BkH/0fvDTjQ7jhQCOsrvIPSXdbsa5T0XqgBu1q6DOgtrE+cBZKpO86YfNdTKgXt51PYu0F5nPx5SlGD1jHWsMsxAU9Ri/KAaEnfyKxuGrOs0eBN40GupQQ6zqiLsv6BkhIFpVWGjz2vc+faCxqlqcl0feIQUXQQgsJoBNcQhZMy6uAVUeGDZKUoQk4+bSEgXxQt8PjvUGEqFfd0bCKDpk80B801iuYjJW+Fos8za6zt8tI/UWBPSacnj8kFXao8kjsaAuJEWysDEK7nbmVKlktA3Ih92czdKpGcFUkQzSekOZmGCK85gDebOKjyN2kBcg92ydz2qfMfNTiCs8nhbT6qe3sLNfPM46HbQisY9LPaypucdb5T5v2cmPid8kwM3U9VVo/z1dOja9iMussRWwVZqoeV4uZrViXSe2th+S35zkTYXHRGeBT7Mu6Whk3GMKdxv8DdcqCVqu8i91K+h4Isx/1MKt2g7HVafa56TzfkoTSeI9tjv0YrUIGkkDshfNMIgEVIVS/kQrPL8H5JgNIGapr7ZB3LpczdETGNxAiEnYiRc7wzth5mrq8zDHLnkRRDxfI=
    -   secure: aUDCUjNGwcODgigbIT6h99e58CAJFiX+2+5kxIx2ziZKC3oULnBlP+EcFCc4KOsqKY1lo+XcLQ2ihA1LcRCcnnoXK2KHgsG5H7chG9Wh+TsVwpWePvC+EqCpnq1+A9eZNMkfNRqn4jLd1K4JDRkFba0S0xt9eEENNcR14u8xiW62I0jDW8AFUg2oCeQe1ZikjLPdOHGNlFE0XWmDU6d4ROVFzVEQcWf0c6T4S8YXA/aDHrGgGHjKQgC9ctS/tb7nNPNEgHQ1WduXw8jSSsk+o8Csc6lBfOAYYYrI/AozQw8dN9i4lZ356y6PYIb3dPB5BcXU3mEeO+JAAybV5+/xqPLMACO9pDszaKZCN/OYcW0GbejEt3MPnsw9iZ2rVW/jqhfezJXWsGrvuhTRRHxvRns/0JUGNNFhpGtkzIJMfzBjTOpm8agqCyFQZHaN6VMqp14rAd6yKwUrtp4XBxJj7rLH4VLvUYQegF6dB16ZHw6tMgjlDPKDhlfKmnpLbq72Jz0sY2kZysOdSLf8lHwBlXDYSORXzlaoVaHaoIERRlRjaDoMu6/qrh7V1iH7ZRkQfMxL+CQP+UOL35B92AXHfp2+39hJ0P+/CuZqFRl+4XMJUefrHKyt8XB7FMzCKTnsRzd2qWzG7vhLRuxQpxYbWSsV16U9tAeY/ovtkiqiNvs=
cache:
    directories:
    - $HOME/.m2/repository
after_success:
- docker login -u $DOCKER_USER -p $DOCKER_PASS
- export IMAGE_NAME=leshkasmirnov/eng_bot
- docker build -t $IMAGE_NAME .
- docker tag $IMAGE_NAME
- docker push $IMAGE_NAME
